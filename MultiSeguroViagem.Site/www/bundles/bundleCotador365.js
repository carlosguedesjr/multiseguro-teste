calculaDigitosCpf=function(a){if(s=a,isNaN(s))return!1;for(var t=!1,r=1,e=0;e<s.length;e++)r<s.length&&s.charAt(e)!=s.charAt(r)&&(t=!0),r++;if(!t)return!1;var e,n=s.substr(0,9),i=s.substr(9,2),o=0;for(e=0;e<9;e++)o+=n.charAt(e)*(10-e);if(0==o)return!1;if(o=11-o%11,o>9&&(o=0),i.charAt(0)!=o)return!1;for(o*=2,e=0;e<9;e++)o+=n.charAt(e)*(11-e);return o=11-o%11,o>9&&(o=0),i.charAt(1)==o},calculoDigitosCnpj=function(a){if(s=a,isNaN(s))return!1;var t,r=s.substr(0,12),e=s.substr(12,2),n=0;for(t=0;t<12;t++)n+=r.charAt(11-t)*(2+t%8);if(0==n)return!1;if(n=11-n%11,n>9&&(n=0),e.charAt(0)!=n)return!1;for(n*=2,t=0;t<12;t++)n+=r.charAt(11-t)*(2+(t+1)%8);return n=11-n%11,n>9&&(n=0),e.charAt(1)==n},campoVazio=function(a){return""===$(a).val()||null===$(a).val()?($('span[data-valmsg-for="'+$(a).attr("name")+'"]').text($(a).attr("data-message-empty")),!1):($('span[data-valmsg-for="'+$(a).attr("name")+'"]').text(""),!0)},nomeCompleto=function(a){var t=/([A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ]{2,}([ A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'`.]{0,}?)[ ]{1,}([ A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ'`]{0,}?)[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ]{2,})/;return a.value.match(t)&&""!=a.value?($('span[data-valmsg-for="'+$(a).attr("name")+'"]').text(""),!0):($('span[data-valmsg-for="'+$(a).attr("name")+'"]').text("Digite o nome completo"),!1)},data=function(a){var t=/^((((0?[1-9]|[12]\d|3[01])[\.\-\/](0?[13578]|1[02])[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|((0?[1-9]|[12]\d|30)[\.\-\/](0?[13456789]|1[012])[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|((0?[1-9]|1\d|2[0-8])[\.\-\/]0?2[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|(29[\.\-\/]0?2[\.\-\/]((1[6-9]|[2-9]\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00)))|(((0[1-9]|[12]\d|3[01])(0[13578]|1[02])((1[6-9]|[2-9]\d)?\d{2}))|((0[1-9]|[12]\d|30)(0[13456789]|1[012])((1[6-9]|[2-9]\d)?\d{2}))|((0[1-9]|1\d|2[0-8])02((1[6-9]|[2-9]\d)?\d{2}))|(2902((1[6-9]|[2-9]\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00))))$/;return a.value.match(t)&&""!=a.value?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("Data inválida"),!1)},cpf=function(a){var t=a.value.replace(/\D+/g,"");return calculaDigitosCpf(t)?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("CPF inválido"),!1)},cnpj=function(a){var t=a.value.replace(/\D+/g,"");return calculoDigitosCnpj(t)?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("CNPJ inválido"),!1)},cpfCnpj=function(a){var t=a.value.replace(/\D+/g,"");return 11==t.length?cpf(a):t.length>=14?cnpj(a):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("Documento inválido"),!1)},email=function(a){return $(a).val().match(/(?:[a-z0-9!#$%&'*+\=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)/gi)?($('span[data-valmsg-for="'+$(a).attr("name")+'"]').text(""),!0):($('span[data-valmsg-for="'+$(a).attr("name")+'"]').text("E-mail inválido"),!1)},idadeMaximaPlano=function(a){var t=$(a).attr("id").replace(/[^\d]/g,""),r=parseInt($("#hdnIdadeMaximaPlano"+t).val())||0,e=(new Date).getFullYear()-(parseInt($(a).val().split("/")[2])||0),n=new Date($(a).val().split("/").reverse());return n.setHours(0,0,0,0),e>r||n>new Date?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("Idade superior a idade máxima do plano"),!1):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0)},idadeMinimaPlano=function(a){return(new Date).getFullYear()-(parseInt($(a).val().split("/")[2])||0)<0?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("Idade inferior a idade mínima do plano"),!1):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0)},viajanteDuplicado=function(a){var t=$(a).attr("id").replace(/\D/g,""),r=$("#Nome"+t).val();return $("#lista-viajantes").find("div[class*='viajante']").has("input[name*='Nome']:valueEquals("+r+")").has("input[name*='Cpf']:valueEquals("+$(a).val()+")").length>1?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text("Viajante duplicado"),!1):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0)},camposDiferentes=function(a){var t=$(a).attr("data-target-camposdiferentes");return $(a).val()===$(t).val()?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text($(a).attr("data-message-camposdiferentes")),!1):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0)},campoChecado=function(a){return $(a).is(":checked")?($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text(""),!0):($('span[data-valmsg-for="'+$(a).attr("id")+'"]').text($(a).attr("data-message-checked")),!1)},validaCampo=function(a,t){var r=!0,e=!0;return $(a).attr("valida").split(" ").map(function(t){if(e){var n=window[t];return"function"!=typeof n||n(a)?void 0:(r=!1,void(e=!1))}}),$((t||"")+" .valid:has(label.control-label span.control-label:not(:empty))").has(a).removeClass("has-success").addClass("has-error"),$((t||"")+" .valid:has(label.control-label span.control-label:empty)").has(a).removeClass("has-error").addClass("has-success"),r},validaFormulario=function(a){var t=!0,r=void 0;return r=a+" [valida]",$(r).each(function(r,e){validaCampo(e,a)||(t=!1)}),t},validacao=function(a,t){t=t||{};var r="botao"in t?$(t.botao):$(a+' button[type="submit"]'),e="submit"===r.attr("type")?$(a):r,n="submit"===r.attr("type")?"submit":"click";$(a).on("blur keyup change",':input[valida]:not(:button), :input[data-toggle="dropdown"]',function(t){var r=t.target;"dropdown"==$(r).attr("data-toggle")&&(r="#"+$(r).attr("data-id")),validaCampo(r,a)}),e.on(n,function(e){r.button("loading"),validaFormulario(a)?"submit"in t&&t.submit(e):("invalido"in t&&t.invalido(e),e.preventDefault(),r.button("reset"))})};
filtraPlanos=function(a,t,o){var n=getParseSession("cotacao");$.ajax({url:a,data:{model:n,tipoFiltro:t,filtro:o},method:"post",success:function(a){return $("#listaCotacoes").html(a)},error:function(a){console.log(a)}})},executaFiltros=function(a){$(".filtroJS").change(function(t){$("#footerfixed").addClass("hidden"),filtraPlanos(a,t.target.options[0].value,t.target.value)})},downloadCoberturas=function(a,t,o){var n=void 0,i=void 0;if(a.Arquivos.map(function(a){"LaminaCoberturas"==a.TipoArquivo&&(n=a.IdFileUploads,i=a.DataCadastro)}),void 0!=n){var e=o+t+n+"/"+i;return window.location.origin+"/"+e}},adicionaCarrinho=function(a,t){var o=[];getSession("carrinho")&&(o=getParseSession("carrinho"),o.map(function(n,i){if(n.Planos.IdPlano==t.Planos[0].IdPlano&&n.Dias==a)return o.splice(i,1),!1})),o.push({Dias:a,QuantidadeViajantes:0,DataIda:t.DataIda,DataVolta:t.DataVolta,ValorTotal:0,Planos:t.Planos[0],Viajantes:null}),setSession("carrinho",JSON.stringify(o)),$(".carrinhoCount").text(o.length)},converteData=function(a){var t=a.split("/");return new Date(t[2],t[1]-1,t[0])},calculaDias=function(a,t){return Math.round((converteData(t)-converteData(a))/864e5)+1},registraIntencaoCotacao=function(a,t,o,n){var i={DataIda:t,DataVolta:o,Destino:n,Email:window.localStorage.getItem("email")};getLocalStorage("IdVisitante")&&(i.IdVisitante=getLocalStorage("IdVisitante")),$.ajax({url:a,method:"post",dataType:"json",data:i,success:function(a){setLocalStorage("IdVisitante",a.IdVisitante)}})};
function datepickerSetup(){var e=new Date;$(".datepicker").datetimepicker({useCurrent:!1,ignoreReadonly:!0,format:"DD/MM/YYYY",locale:"pt-br",minDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()),icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-screenshot",clear:"fa fa-trash",close:"fa fa-remove",inline:!0}}),$(".selectpicker").selectpicker({dropupAuto:!1})}function datepickerSetaMinMaxDate(e,a){$(e).on("dp.change",function(e){$(a).data("DateTimePicker").minDate(e.date)}),$(a).on("dp.change",function(a){$(e).data("DateTimePicker").maxDate(a.date)})}